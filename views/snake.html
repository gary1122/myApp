<canvas id="gameArea" width="400" height="450"></canvas>
<script src="/js/game/snake.js"></script>
<script src="/js/game/fruit.js"></script>
<script src="/js/game/game.js"></script>
<a href = "/" style="display:block;">back</a>
<script>

var gs = 10;

	canv=document.getElementById("gameArea");
    ctx=canv.getContext("2d");


    //var snake = new Snake();
    //var fruit = new Fruit();
    var game = new Game();
    game.init();
    /*
    var gameSppedInterval = setInterval(function(){
      	game.update();
    	console.log(game.speed)
    },game.speed)
    */

    //setTimeout(game.update(),game.speed);



//
canv.addEventListener("mousemove", function(event){
	game.mouse.x = event.clientX;
	game.mouse.y = event.clientY;
})

canv.addEventListener("click", function(event){
	game.click()
})



//keyboard event
window.addEventListener("keydown",function(event){
	game.start = true;
	if(event.keyCode == 37){
		vx=-1;//left
		vy=0;
		if(!game.homePage){
			game.startGame = true;
			game.snake.dir(vx*gs,vy*gs);
			if(game.end){
				game.end = false;
			}
			if(game.pause){
				game.pauseGame();
			}
		}
	}
	else if(event.keyCode == 38){
		vx=0;//up
		vy=-1;
		if(!game.homePage){
			game.startGame = true;
			game.snake.dir(vx*gs,vy*gs);
			if(game.end){
				game.end = false;
			}
			if(game.pause){
				game.pauseGame();
			}
		}
	}
	else if(event.keyCode == 39){
		vx=1;//right
		vy=0;
		if(!game.homePage){
			game.startGame = true;
			game.snake.dir(vx*gs,vy*gs);
			if(game.end){
				game.end = false;
			}
			if(game.pause){
				game.pauseGame();
			}
		}
	}
	else if(event.keyCode == 40){
		vx=0;//down
		vy=1
		if(!game.homePage){
			game.startGame = true;
			game.snake.dir(vx*gs,vy*gs);
			if(game.end){
				game.end = false;
			}
			if(game.pause){
				game.pauseGame();
			}
		}
	}
	else if(event.keyCode == 27){
		game.quit();
	}
	else if(event.keyCode == 13){
		if(!game.homePage){
			game.pauseGame();
		}
	}
	else if(event.keyCode == 189){
		game.slowdown();
	}
	else if(event.keyCode == 187){
		game.speedup();
	}
})


</script>



